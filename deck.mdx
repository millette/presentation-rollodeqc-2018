import { Notes, Appear, Image } from 'mdx-deck'
import Barchart from './components/barchart'

# RoLLodeQc
## Bottin des Développeurs du Québec

*surtout de logiciels libres*

---

# Présentation
## Version 2018

Un projet de Robin Millette

Déconférence WikiSuite

2018-09-??

---

# Robin Millette

* Jeune programmeur depuis les années ’80
* Partisan d’informatique libre
* Initiateur de la SQIL (2004)

---

# Spécialités

* ```JavaScript``` (client et serveur avec ```NodeJS```)
* ```React``` (avec ```Next.js``` et ```Gatsby```)
* ```Debian GNU/Linux```

---

# Sauts

* [Le répertoire](#5)
* [Statistiques](#15)
* [JAMstack](#27)
* [Gatsby](#29)
* [Contribuer](#55)

---

# Le répertoire

<ul style={{ textAlign: 'left', fontSize: '1.5em' }}>
  <Appear>
    <li>Il était une fois...</li>
    <li>Avant que Microsoft n’achète LinkedIn</li>
    <li>Avant que Microsoft n’achète GitHub</li>
  </Appear>
</ul>

---

# Il y avait

## Le RoLLodeQc à cette intersection

---

# Historique

---

# 2015

<iframe width="800" height="600" src="http://www.rollodeqc.com/" />

---

# 2017

* Difficultés de mises à jour
* Désuétude des informations

---

# 2018

* Toute nouvelle version
* Script amélioré pour récolter les données GitHub
* Site statique généré avec ```React``` et ```GraphQL``` via ```Gatsby```

---

# Sur mobiles

<iframe width="414" height="600" src="http://dev.rollodeqc.com/fr/" />

---

# Sur le bureau

<iframe width="800" height="600" src="http://dev.rollodeqc.com/fr/" />

---

<Image src='images/sqil2018-banniere-250x300.jpg' size='contain' />

---

## Semaine québécoise de l’informatique libre

*du 15 au 23 septembre 2018*

[sqil.info](https://2018.sqil.info/)

---

# Statistiques

---

## Qui sont les développeurs du Québec?

*en date du 28 août 2018*

---

## Aperçu

* **15 650** développeurs
* **9 351** ont au moins une contribution <small>au cours des 20 dernières semaines</small>
* **8 640** ont au moins un dépot
* **2 912** sont disponibles
* **Trop peu de femmes**

---

## Licences

<Barchart title='Licences'>
  1. MIT: **4 107** personnes
  2. Apache-2: **1 761** personnes
  3. GPL-3: **1 238** personnes
  4. GPL-2: **471** personnes
  5. BSD-3-Clause: **526** personnes
  6. BSD-2-Clause: **240** personnes
  7. AGPL-3: **214** personnes
</Barchart>

---

## Langages

<Barchart title='Langages'>
  1. JavaScript: **3 363** personnes
  2. Python: **2 411** personnes
  3. HTML: **2 062** personnes
  4. Java: **1 642** personnes
  5. C++: **1 251** personnes
  6. CSS: **1 165** personnes
  7. Shell: **1 038** personnes
  8. PHP: **1 034** personnes
</Barchart>

---

# RoLLodeQc

---

# Fonctionnalités

Deux usages:

1. Administrateur d’un site régional
1. Visiteurs du site

---

## Administrer

* Configuration de base
* Adapter les langues
* Spécifier une liste de villes, etc.
* Mettre à jour les données périodiquement
* Construire et publier le site

---

## Visiter

* Explorer les profils
* Par licence
* Par langage de programmation
* Par mot clé
* Par lieu
* Par nom

---

## Options de tri

*Le RoLLodeQc n’est pas un palmares*

* Nombre de dépots
* Date d’inscription (sur GitHub)
* Contributions récentes

---

## S’inscrire

C’est sur le *roadmap*...

---

# Roadmap

* Inscription et gestion de son profil
* Page pour chaque développeur
* Statistiques, graphiques
* Cartographie (langages, licences, etc.)
* Section pour des annonces payantes
* Déploiements internationaux

---

# JAMstack

## Architecture moderne de développement web

* ```JavaScript``` côté client,
* API réutilisables
* *Markup* pré-construit

[jamstack.org](https://jamstack.org/)

---

## LAMP, MEAN, maintenant JAM?

* ```Linux``` - ```Apache``` - ```MySQL```/```MariaDB``` - ```PHP```/```Python```/```Perl```
* ```Mongo``` - ```Express``` - ```Angular``` - ```NodeJS```
* ```JavaScript``` - API - Markup

---

# Gatsby

* De type JAMstack
* Générateur de site statique
* ```JavaScript``` (client et ```NodeJS```)
* Basé sur ```React``` (interface client)
* Basé sur ```GraphQL``` (requêtes)

---

## Générateur de site statique

* ```Gatsby``` n’est pas le premier
* J’en ai essayé et écrit plusieurs
* [staticsitegenerators.net](https://staticsitegenerators.net/) en compte 458

---

## ```JavaScript``` (client et ```NodeJS```)

* Écrit en ```JavaScript``` (client et ligne de commande)
* Utilise les outils ```NodeJS```
* npm ou yarn
* Babel
* Webpack

---

## Basé sur ```React```

* Librarie de Facebook pour écrire des composantes web
* Nouvelle génération (incluant vue, angular et bien d’autres)

---

## Basé sur ```GraphQL```

* Remplace REST à certains égards
* Langage de requêtes en graphes (hiérarchiques)
* Uniformise les sources de données (fichiers, URL, etc.)

---

# Prérequis ```Gatsby```

* ```NodeJS```
* npm ou yarn (gestionnaire de paquets JS)
* GNU/Linux, MacOS et Windows (<abbr title='votre kilométrage pourrait varier'>VKPV</abbr>)

---

## Installer ```NodeJS``` et gestionnaire de versions

---

### Sur GNU/Linux (fonctionne aussi sur MacOS), j’utilise ```n```:

```sh
curl -L https://git.io/n-install | bash
```

---

### Sur Windows, installer:

<https://github.com/coreybutler/nvm-windows/releases/download/1.1.7/nvm-setup.zip>

---

## Installer ```NodeJS``` directement

<https://nodejs.org/en/download/>

---

## ```NodeJS``` et npm

* npm: ```NodeJS``` package manager
* package: un ou des modules ```JavaScript```s
* yarn: outil de Facebook pour gérer les paquets npm

<Notes>
Je n’utilise que GNU/Linux, je n’ai pas d’expérience
avec les autres environnements.
</Notes>

---

### Installation globale ou locale

* npm: installer les dépendances d’un projet
* npm --global: installer des outils à la ligne de commande
* npm --global: global au niveau système (sudo) ou utilisateur
* niveau utilisateur de préférence (au lieu d’utiliser sudo)
* C’est pourquoi je suggère d’utiliser n ou nvm pour installer ```NodeJS```

<Notes>
  <ul>
    <li>En général, on utilise npm (ou yarn) pour installer les dépendances d’un projet, localement</li>
    <li>On peut aussi utiliser npm globalement pour installer des outils à la ligne de commande, mais c’est plus rare</li>
    <li>Quand on fait une installation globale, les fichiers iront dans un espace global de l’intallation ```NodeJS```,
      soit au niveau du système (sudo) ou au niveau de l’utilisateur</li>
    <li>C’est préférable que les installations dites globales se fassent au niveau de l’utilisateur pour éviter d’avoir recours à sudo</li>
    <li>D’où la suggestion d’utiliser un gestionnaire de versions pour installer ```NodeJS```</li>
  </ul>
</Notes>

---

## npm vs yarn

* npm est en général livré avec ```NodeJS```
* il peut aussi est mis à jour séparément
* ```npm install --global npm```
* yarn est une alternative à npm avec ses propres commandes, mais le même registres de packages
* ```npm install --global yarn``` n’est pas recommandé
* voir plutôt [yarnpkg.com/fr/docs/install](https://yarnpkg.com/fr/docs/install)
* les deux évoluent rapidement, difficile de choisir
* il en existe d’autres: pnpm, etc.

---

# Environnement ```Gatsby```

* *Starters*
* Greffons
* Composantes ```React```

---

## Versions de ```Gatsby```

* Version 1.9.277 [gatsbyjs.org](https://www.gatsbyjs.org/)
* Version 2.0.0-rc.14 [next.gatsbyjs.org](https://next.gatsbyjs.org/)

On va se pencher sur la version 2, utilisée par le RoLLodeQc.

---

## Starters

Point de départ pour démarrer un nouveau site

[next.gatsbyjs.org/docs/gatsby-starters](https://next.gatsbyjs.org/docs/gatsby-starters/)

* CMS
* Blogue
* eCommerce
* etc.

---

## Greffons

*Plugins*

* Sources
* Transformateurs
* Génériques

---

### Implémentation d’un greffon

* Fonctions client
* Fonctions SSR
* Fonctions ```NodeJS```

<Notes>
Gatsby offre un API riche pour construire des greffons à différents stages
de la construction d’un site.
</Notes>

---

### Greffon source

Un greffon source charge les données par différents moyens:

* WordPress
* MongoDB
* API web
* Système de fichiers
* etc.

---

### Greffon transformateur

Converti en object ```JavaScript``` des données telles que:

* CSV
* JSON
* YAML

<Notes>
Un greffon transformateur converti les données d’un format (CSV, YAML, etc.)
en objet ```JavaScript```.
</Notes>

---

### Autres greffons

* Un greffon peut construire sur un autre greffon et sa nomenclature devrait le refléter
* D’autres greffons génériques sont possibles

---

## ```GraphQL```

Langage de requêtes structurées publié par Facebook en 2015 comme alternatives aux API REST.

Utilisé dans ```Gatsby``` pour uniformiser toutes les sources de données:

* Système de fichiers (JSON, markdown, images, etc.)
* GitHub
* WordPress
* etc.

---

### Requête ```GraphQL```

```
query {
  viewer {
    name
    login
    location
    email
    websiteUrl
    bio
  }
}
```

---

### Réponse ```GraphQL```

```js
{
  "data": {
    "viewer": {
      "name": "Robin Millette",
      "login": "millette",
      "location": "Montréal, Québec, Canada",
      "email": "robin@millette.info",
      "websiteUrl": "http://robin.millette.info/",
      "bio": "Je contribue au @RoLLodeQc, le bottin des développeurs du Québec. Saviez-vous que nous sommes près de 16,000 inscrits sur GitHub?"
    }
  }
}
```

---

### GHraphql

* Script pour mettre à jour les données
* Gère les multiples requêtes nécessaires
* Obéit aux quotas de GitHub
* S’utilise aussi indépendemment du bottin

<Notes>
<p>Dans le cadre du RoLLodeQc, j’ai écrit le script ghraphql pour faire
les requêtes à GitHub puisque ce dernier limite, selon la complexité,
le nombre de résultats par requête.</p>
<p>Le script exporte ses données dans un fichier de son choix.</p>
</Notes>

---

## Composantes ```React```

* Toutes les composantes ```React``` sont à votre disposition
* Applications hybrides statique/dynamique

---

# Contribuer

<ul style={{ textAlign: 'left', fontSize: '1.5em' }}>
  <Appear>
    <li>Le projet vous intéresse?</li>
    <li>Vous pouvez contribuer de multiples façons.</li>
  </Appear>
</ul>

---

## Sources des logiciels libres

* <https://github.com/millette/gatsby-starter-location-github>
* <https://github.com/millette/ghraphql>
* <https://github.com/millette/presentation-rollodeqc-2018>

---

## Autres façons de contribuer

* Design/look
* Promotion, animation
* Idées pour améliorer le site
* *Star* sur GitHub
* *Follow* sur Twitter

---

## Remerciements

---

### Marc Laporte (WikiSuite)

<img alt='WikiSuite' src='images/logo-wikisuitev3.png' style={{ width: '100%' }} />

<https://wikisuite.org/Software>

---


### Savoir-faire Linux

<img alt='Savoir-faire Linux' src='images/logo-sfl-coul-rgb.jpg' style={{ width: '100%' }} />

<https://savoirfairelinux.com/fr>

---

# Liens

* **Bottin**: [dev.rollodeqc.com](http://dev.rollodeqc.com/)
* **Gatsby**: [gatsbyjs.org](https://www.gatsbyjs.org)
* **Site personnel**: [robin.millette.info](http://robin.millette.info/)
* **Présentation**: [rollo-ws-2018.surge.sh](http://rollo-ws-2018.surge.sh/)

---

* <http://rollo-ws-2018.surge.sh>
* <http://dev.rollodeqc.com>
* <http://robin.millette.info>
* <https://twitter.com/rollodeqc>
* <https://www.gatsbyjs.org>
* <https://github.com/millette>
* [gatsby-starter-location-github](https://github.com/millette/gatsby-starter-location-github) <small>(sur github)</small>
* [ghraphql](https://github.com/millette/ghraphql) <small>(sur github)</small>

---

# Fin des *slides*
